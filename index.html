<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>スト6コンボ入力ツール</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
	<!-- ヘッダー -->
	<div class="header">
	  <h1>スト6 コンボ入力ツール</h1>
	  <button id="helpBtn" class="tiny-button">使い方</button>
	</div>
  <div class="container">
    <div class="panel">
      
      <div class="mode-toggle-container">
        <div class="mode-section">
          <div class="section-title">表示モード切替</div>
          <div class="mode-select">
            <label><input type="radio" name="mode" value="arrow" checked> 矢印</label>
            <label><input type="radio" name="mode" value="number"> 数字</label>
          </div>
        </div>
        <div class="mode-section">
          <div class="section-title">操作モード切替</div>
          <div class="mode-select">
            <label><input type="radio" name="style" value="classic" checked> クラシック</label>
            <label><input type="radio" name="style" value="modern"> モダン</label>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="column" id="direction-area">
          <div class="section-title">方向キー</div>
          
          <div class="button-grid grid-3x3" id="directionGrid"></div>
          
          <hr class="divider">
          
          
          <div class="button-grid grid-3x2" id="specialDirections"></div>
        </div>
        
        <div class="column" id="attack-area">
          
          <div id="classic-buttons">
            <div class="section-title">技ボタン（クラシック）</div>
            <div class="button-grid grid-4x2" id="classicButtons"></div>
            <hr class="divider">
            <div class="button-grid grid-3x3" id="saButtons"></div>
            <hr class="divider">
            <div class="button-grid grid-3x1" id="specialCommandButtons"></div>
          </div>
          
          
          <div id="modern-buttons" style="display:none;">
            <div class="section-title">技ボタン（モダン）</div>
            <div id="modernButtons"></div>
            <hr class="divider">
            <div class="button-grid grid-3x3" id="saButtonsModern"></div>
            <hr class="divider">
            <div class="button-grid grid-3x1" id="specialCommandButtonsModern"></div>
          </div>
        </div>
      </div>
      <div class="section-title collapsible" id="specialMovesHeader">必殺技</div>
<div class="collapsible-content">
  <div id="characterSelectArea">
    <select id="characterSelect" onchange="selectCharacter(this.value)">
      <option value="manon" selected>マノン</option>
      <!-- 将来的に他のキャラクターを追加可能 -->
    </select>
  </div>
  
  <div id="specialMovesArea">
    <!-- ここに技ボタンがJavaScriptで動的に追加される -->
  </div>
</div>
      <div class="section-title collapsible" id="specialInputsHeader">特殊入力</div>
      <div class="collapsible-content">
        <div class="button-grid grid-4x4-special" id="specialInputs"></div>
      </div>
      
      <div class="section-title collapsible" id="customInputHeader">任意入力</div>
      <div class="collapsible-content">
        <div class="custom-input-container">
          <button id="customInputButton" onclick="addCustomInput()">任意入力追加</button>
          <input type="text" id="customInputField" class="custom-input-field" placeholder="任意の入力を入力">
        </div>
      </div>
    </div>
    
    <div class="panel">
      <div class="section-title">出力</div>
      <div class="display-box" id="output"></div>
      <div class="section-title">メモ</div>
      <textarea class="memo-box" id="memo" rows="4" placeholder="フレーム数や解説を入力"></textarea>
      <div class="control">
        <button onclick="undoOutput()">戻る</button>
        <button onclick="addInput('\n')">改行</button>
        <button onclick="copyOutput()">コピー</button>
        <button onclick="clearOutput()">クリア</button>
      </div>
	<div class="section-title">保存機能</div>
		<div class="control">
			<input type="file" id="fileInput" onchange="handleFileSelect(event)" accept=".csv"/>
		</div>
		<div class="control">
			<button onclick="saveCurrentCombo()">コンボ保存</button>
			<button onclick="exportCombosToCSV(savedCombos)">CSVエクスポート</button>
		</div>
    </div>
</div>
    <!-- モーダルオーバーレイ -->
  <div id="overlay"></div>
  <div id="infoModal">
    <div class="modal-content">
      <button id="closeModal">✕</button>
      <h2>使い方</h2>
      <p>
      表示モード：方向キーの表記を矢印か数字に切り替えます。
      操作モード：ボタン入力をクラシックかモダンかに切り替えます。
      ＋：「+」を入力します
      ＞(次)：「>」を入力します。Enterキーに対応しています。
      戻る：コンボレシピのUndoです。押すと入力1手前に戻ります。
      改行：コンボレシピを改行できるので、複数のコンボレシピをまとめて出力できます。
      任意入力：任意の単語を入力できます。
      メモ：メモ欄です。コンボレシピと別行で、セットでコピーできます。
      保存機能：出力したコンボとメモをセットでCSV形式に書き出します。また、過去に書き出したCSVを読み込めるので、追記できます。
      </p>
    </div>
  </div>
　<script src="characters-data.js"></script>
  <script src="script.js"></script>
</body>
</html>
